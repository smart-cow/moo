// Generated by CoffeeScript 1.7.1
(function() {
  angular.module("moo.directives", []).directive("mooNavMenu", function() {
    return {
      restrict: "E",
      scope: {},
      controller: [
        "$scope", "$route", "areas", function($scope, $route, areas) {
          var area, areaName;
          $scope.$on("$routeChangeStart", function(evt, newRoute) {
            var tab, _i, _len, _ref, _results;
            console.log("route change");
            console.log(newRoute);
            _ref = $scope.tabs;
            _results = [];
            for (_i = 0, _len = _ref.length; _i < _len; _i++) {
              tab = _ref[_i];
              _results.push(tab.selected = tab.title === newRoute.provide.area);
            }
            return _results;
          });
          return $scope.tabs = (function() {
            var _results;
            _results = [];
            for (areaName in areas) {
              area = areas[areaName];
              _results.push({
                title: areaName,
                url: "#" + area.defaultRoute.url,
                selected: areaName === $route.current.provide.area
              });
            }
            return _results;
          })();
        }
      ],
      templateUrl: "partials/nav-menu.html"
    };
  });

}).call(this);

//# sourceMappingURL=directives.map
